pipeline_controls_version: '1.0'
build:
  api_version: '1.0'
config:
  amq:
    enabled: false
  build_type: 'no_build'
  docker:
    certs:
      skipInjection: false # Disabled cert injection for ALL of your images
  terraform:
    skip: false
    root: 'tf'
    short_name: 'ess'
    service: 'elastic-stack-services'
    access_groups:
    - 'elastic_ar'
controls:
  files:
    notifications:
      path: pipeline-notifications.yml
deploy:
  properties:
    enableValuesInterpolation: true
    force: false
    helmVersion: '3'
    namespace: elastic
    valuesDirectory: values
    runTests: false
    helmTimeout: 300
  deploys:
    int:
      active: false
      targets:
        essdev-k8s-commercial-dev:
          active: false
          properties:
            charts:
              aws-forwarder:
                active: true
                path: es-kibana-helm-mon
                name: terraform-elastic-esf
                appendNamespace: false
                values:
                - values.yaml
    # Load some extra variables from all sorts of different places
    #
    # variables:
    #   sources:
    #     sharedservices-commercial:
    #       type: 'github_file'
    #       org: 'Mxr-ElasticStackServices'
    #       repo: 'configs'
    #       branch: 'main'
    #       path: 'the-stack/configs.yml'
    #       clientId: 'github-com'
    #       # Load for commerical
    #       filter:
    #         partition:
    #         - 'commercial'
